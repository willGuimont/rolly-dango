import std/unittest
import cart/components/spritecomponent

const spriteTestWidth = 16
const spriteTestHeight = 16
const spriteTestFlags = 2
const spriteTest: array[64, uint8] = [0x00'u8, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x05, 0x50, 0x00, 0x00, 0x1a, 0xa4, 0x00, 0x00,
        0x6a, 0xa9, 0x00, 0x00, 0x69, 0x99, 0x00, 0x00, 0x69, 0x99,
        0x00, 0x00, 0x6a, 0xa9, 0x00, 0x00, 0x15, 0x54, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]
makeSprite(spriteTest)

suite "spritecomponent":
    test "makeSprite macro returns a sprite with right argument":
        check spriteTestSprite.width == spriteTestWidth
        check spriteTestSprite.height == spriteTestHeight
        check spriteTestSprite.flags == spriteTestFlags
        check spriteTestSprite.data[] == spriteTest
